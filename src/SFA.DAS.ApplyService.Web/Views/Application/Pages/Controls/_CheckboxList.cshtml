@using NPOI.Util
@model SFA.DAS.ApplyService.Web.Controllers.QuestionViewModel

@if (Model.ErrorMessages != null && Model.ErrorMessages.Count > 0)
{
    foreach (var errorMessage in Model.ErrorMessages)
    {
        if (errorMessage.Field == Model.QuestionId)
        {
            <span class="govuk-error-message">@errorMessage.ErrorMessage</span>
        }
    }
}

@for (int i = 0; i < Model.Options.Count; i++)
{
    var checkboxChecked = ((Model.Value != null && Model.Value.Contains(Model.Options[i].Value)) || Model.Value == null) ? "checked" : "";

    <label for="option_@i">@Model.Options[i].Label</label>
    <input type="checkbox" id="option_@i" name="@Model.QuestionId" value="@Model.Options[i].Value" @checkboxChecked />
}